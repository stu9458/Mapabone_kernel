From 529ec2311c218dd73d2a268a7f819b45d2138313 Mon Sep 17 00:00:00 2001
From: Robert Nelson <robertcnelson@gmail.com>
Date: Tue, 26 Aug 2014 11:08:46 -0500
Subject: [PATCH 10/17] am335x-bone-common: pinmux led
 (gpio1_18/gpio1_28/gpio3_19)

Signed-off-by: Robert Nelson <robertcnelson@gmail.com>
---
 arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi | 21 +++++++++++++++++++++
 arch/arm/boot/dts/am335x-bone-led-gpio1-18.dtsi  | 23 +++++++++++++++++++++++
 arch/arm/boot/dts/am335x-bone-led-gpio1-28.dtsi  | 23 +++++++++++++++++++++++
 arch/arm/boot/dts/am335x-bone-led-gpio3-19.dtsi  | 23 +++++++++++++++++++++++
 4 files changed, 90 insertions(+)
 create mode 100644 arch/arm/boot/dts/am335x-bone-led-gpio1-18.dtsi
 create mode 100644 arch/arm/boot/dts/am335x-bone-led-gpio1-28.dtsi
 create mode 100644 arch/arm/boot/dts/am335x-bone-led-gpio3-19.dtsi

diff --git a/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi b/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi
index 0f22048..83d824b 100644
--- a/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi
+++ b/arch/arm/boot/dts/am335x-bone-common-pinmux.dtsi
@@ -91,6 +91,27 @@
 		>;
 	};
 
+	/* lcd4-01-00a0 */
+	gpio1_18_led_pins: pinmux_gpio1_18_led_pins {
+		pinctrl-single,pins = <
+			0x48 0x07	/* gpmc_a2.gpio1_18, OUTPUT | MODE7 */
+		>;
+	};
+
+	/* lcd4-01-00a1/lcd7-01-00a2/lcd7-01-00a3 */
+	gpio1_28_led_pins: pinmux_gpio1_28_led_pins {
+		pinctrl-single,pins = <
+			0x078 0x2f	/* gpmc_ben1.gpio1_28, INPUT | PULLDIS | MODE7 */
+		>;
+	};
+
+	/* lcd3-01-00a2 */
+	gpio3_19_led_pins: pinmux_gpio3_19_led_pins {
+		pinctrl-single,pins = <
+			0x1a4 0x07	/* mcasp0_fsr.gpio3_19, OUTPUT | MODE7 */
+		>;
+	};
+
 	i2c0_pins: pinmux_i2c0_pins {
 		pinctrl-single,pins = <
 			0x188 (PIN_INPUT_PULLUP | MUX_MODE0)	/* i2c0_sda.i2c0_sda */
diff --git a/arch/arm/boot/dts/am335x-bone-led-gpio1-18.dtsi b/arch/arm/boot/dts/am335x-bone-led-gpio1-18.dtsi
new file mode 100644
index 0000000..14c57c7
--- /dev/null
+++ b/arch/arm/boot/dts/am335x-bone-led-gpio1-18.dtsi
@@ -0,0 +1,23 @@
+/*
+ * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+/ {
+	gpio-leds-cape-lcd {
+		compatible = "gpio-leds";
+		pinctrl-names = "default";
+
+		pinctrl-0 = <&gpio1_18_led_pins>;
+
+		lcd-led0 {
+			label = "lcd:green:usr0";
+			gpios = <&gpio1 18 0>;
+			linux,default-trigger = "heartbeat";
+			default-state = "off";
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/am335x-bone-led-gpio1-28.dtsi b/arch/arm/boot/dts/am335x-bone-led-gpio1-28.dtsi
new file mode 100644
index 0000000..7c54f98
--- /dev/null
+++ b/arch/arm/boot/dts/am335x-bone-led-gpio1-28.dtsi
@@ -0,0 +1,23 @@
+/*
+ * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+/ {
+	gpio-leds-cape-lcd {
+		compatible = "gpio-leds";
+		pinctrl-names = "default";
+
+		pinctrl-0 = <&gpio1_28_led_pins>;
+
+		lcd-led0 {
+			label = "lcd:green:usr0";
+			gpios = <&gpio1 28 0>;
+			linux,default-trigger = "heartbeat";
+			default-state = "off";
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/am335x-bone-led-gpio3-19.dtsi b/arch/arm/boot/dts/am335x-bone-led-gpio3-19.dtsi
new file mode 100644
index 0000000..e73fc10
--- /dev/null
+++ b/arch/arm/boot/dts/am335x-bone-led-gpio3-19.dtsi
@@ -0,0 +1,23 @@
+/*
+ * Copyright (C) 2012 Texas Instruments Incorporated - http://www.ti.com/
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+/ {
+	gpio-leds-cape-lcd {
+		compatible = "gpio-leds";
+		pinctrl-names = "default";
+
+		pinctrl-0 = <&gpio3_19_led_pins>;
+
+		lcd-led0 {
+			label = "lcd:green:usr0";
+			gpios = <&gpio3 19 0>;
+			linux,default-trigger = "heartbeat";
+			default-state = "off";
+		};
+	};
+};
-- 
2.1.0

